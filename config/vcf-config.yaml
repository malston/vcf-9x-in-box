# VCF 9.x in a Box - Configuration File
# Edit this file to customize your ESXi host settings

# Network Configuration
network:
  subnet: "172.30.0.0/24"
  netmask: "255.255.255.0"
  gateway: "172.30.0.1"
  vlan_id: "30"
  vmnic: "vmnic1"
  dns_server: "192.168.10.2"
  dns_domain: "vcf.lab"
  vswitch_mtu: "9000"

# Common Settings
common:
  ntp_server: "pool.ntp.org"
  root_password: "VMware1!"
  ssh_root_key: "" # Optional: Add SSH public key here

  # ESXi ISO Configuration
  # IMPORTANT: Use ESXi 9.0.0.0 build 24755229 (or the version specified in VCF 9.0.0.0 release notes)
  # This version MUST be compatible with VCF 9.0.0.0
  # Download from: https://support.broadcom.com/
  esxi_iso_path: "/Volumes/vcf-content/Software/depot/VCF9/PROD/COMP/ESX_HOST/VMware-VMvisor-Installer-9.0.1.0.24957456.x86_64.iso"

  # OVFTool path (for deploying VCF Installer OVA)
  ovftool_path: "/Applications/VMware OVF Tool/ovftool"

# VCF Installer Configuration
vcf_installer:
  # VCF Installer OVA path
  # Download from: https://support.broadcom.com/
  ova_path: "/Volumes/vcf-content/Software/depot/VCF9/PROD/COMP/SDDC_MANAGER_VCF/VCF-SDDC-Manager-Appliance-9.0.1.0.24962180.ova"

  # VCF Installer VM configuration
  vm_name: "sddcm01"
  hostname: "sddcm01.vcf.lab"
  ip: "172.30.0.21"

  # VCF Installer passwords (must be 15+ characters per OVA requirements)
  root_password: "VMware1!VMware1!"
  admin_password: "VMware1!VMware1!"

  # Target ESXi host for VCF Installer deployment (usually first host)
  target_host: 1 # Deploys to hosts[0] (esx01)
  vm_network: "VM Network"

  # VCF Installer feature properties
  features:
    single_host_domain: true # Enable single-host domain support
    skip_nic_speed_validation: true # Skip physical NIC speed validation

  # Software depot configuration
  depot:
    type: "offline" # "offline" or "online"
    use_https: false # Use HTTP for offline depot

# vCenter Configuration (deployed by VCF)
vcenter:
  hostname: "vc01.vcf.lab"
  ip: "172.30.0.10"
  username: "administrator@vsphere.local"
  password: "VMware1!VMware1!"

# ESXi Host Configurations
hosts:
  - number: 1
    hostname: "esx01.vcf.lab"
    ip: "172.30.0.11"
    # NVMe device identifiers - Run 'vdq -q' on ESXi console to find these
    install_disk: "t10.NVMe____Samsung_SSD_980_500GB___________________7F17A051D3382500"
    tiering_disk: "t10.NVMe____Samsung_SSD_990_PRO_4TB_________________72A9415145382500"
    datastore_name: "local-vmfs-datastore-1"

  - number: 2
    hostname: "esx02.vcf.lab"
    ip: "172.30.0.12"
    install_disk: "t10.NVMe____Samsung_SSD_980_500GB___________________9E17A051D3382500"
    tiering_disk: "t10.NVMe____Samsung_SSD_990_PRO_4TB_________________84A9415145382500"
    datastore_name: "local-vmfs-datastore-2"

  - number: 3
    hostname: "esx03.vcf.lab"
    ip: "172.30.0.13"
    # IMPORTANT: Update these with your actual NVMe device identifiers!
    install_disk: "t10.NVMe____SHGP312D500GM____________________________00E3E126002EE4AC"
    tiering_disk: "t10.NVMe____Samsung_SSD_990_PRO_4TB_________________8639A15148382500"
    datastore_name: "local-vmfs-datastore-3"
# Notes:
# - To find NVMe device identifiers, boot ESXi installer and run 'vdq -q'
# - All IPs should be on the same subnet as specified in network.subnet
# - Ensure VLAN is configured on your physical switch
#
# Conditional Configuration (based on number of hosts):
# - < 3 hosts: vSAN ESA Mock VIB is installed (required for vSAN with < 3 hosts)
# - >= 3 hosts: Standard vSAN configuration, TierTdmNumBatches optimization enabled
